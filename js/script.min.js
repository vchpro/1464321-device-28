var writeLink=document.querySelector(".btn-write-us"),writePopup=document.querySelector(".contact-form-container"),writeClose=writePopup.querySelector(".contact-form-close"),writeName=writePopup.querySelector(".contact-form-login"),writeMail=writePopup.querySelector(".contact-form-mail"),writeText=writePopup.querySelector(".contact-form-message"),writeForm=writePopup.querySelector(".contact-form"),mapLink=document.querySelector(".contacts-map"),mapPopup=document.querySelector(".map-container"),mapClose=mapPopup.querySelector(".map-close"),isStorageSupport=!0,storage="",storage2="";try{storage=localStorage.getItem("login"),storage2=localStorage.getItem("mail")}catch(e){isStorageSupport=!1}mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("map-container-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("map-container-show")}),writeLink.addEventListener("click",function(e){e.preventDefault(),writePopup.classList.add("contact-form-container-show"),writePopup.classList.add("contact-form-container-show"),storage||storage2?(writeName.value=storage,writeMail.value=storage2,writeText.focus()):storage?(writeName.value=storage,writeMail.focus()):writeName.focus(),writeText.value=""}),writeClose.addEventListener("click",function(e){e.preventDefault(),writePopup.classList.remove("contact-form-container-show"),writePopup.classList.remove("contact-form-container-error")}),writeForm.addEventListener("submit",function(e){writeName.value&&writeMail.value&&writeText.value?isStorageSupport&&(localStorage.setItem("login",writeName.value),localStorage.setItem("mail",writeMail.value)):(e.preventDefault(),writePopup.classList.remove("contact-form-container-error"),writePopup.offsetWidth,writePopup.classList.add("contact-form-container-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(writePopup.classList.contains("contact-form-container-show")?(e.preventDefault(),writePopup.classList.remove("contact-form-container-show"),writePopup.classList.remove("contact-form-container-error")):mapPopup.classList.contains("map-container-show")&&mapPopup.classList.remove("map-container-show"))});